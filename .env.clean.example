# ============================================
# ST-Automation Environment Configuration
# LAZI Labs - lazilabs.com
# ============================================

# Server Configuration
PORT=3000
NODE_ENV=production

# ============================================
# Supabase Database (REQUIRED)
# ============================================
# Project URL from Supabase Dashboard > Settings > API
SUPABASE_URL=https://ereuwdjrnpzfbumbwjxe.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVyZXV3ZGpybnB6ZmJ1bWJ3anhlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2ODg2NTM0NSwiZXhwIjoyMDg0NDQxMzQ1fQ.Exi6lFAuhnfRsHMZ_uBPo7_7auwFypgunJ89qb3wcCw

# Direct PostgreSQL connection (for Prisma/pg if needed)
DATABASE_URL=postgresql://postgres:Catchadmin%402025@db.ereuwdjrnpzfbumbwjxe.supabase.co:5432/postgres

# ============================================
# ServiceTitan API (REQUIRED)
# ============================================
TENANT_ID=3222348440
ST_TENANT_ID=3222348440
SERVICE_TITAN_TENANT_ID=3222348440
SERVICE_TITAN_CLIENT_ID=cid.xghkglqvj2akkx3ws4x6jrvxa
SERVICE_TITAN_CLIENT_SECRET=cs13.ej0mczpx541m38sxazd3znad55otsgetqtlft9u5fcs6z3rmyl
SERVICE_TITAN_APP_KEY=ak1.v91sddwsy32cykc7k75qsq2un
SERVICE_TITAN_ENV=production

# Aliases for scripts
ST_CLIENT_ID=cid.xghkglqvj2akkx3ws4x6jrvxa
ST_CLIENT_SECRET=cs13.ej0mczpx541m38sxazd3znad55otsgetqtlft9u5fcs6z3rmyl
ST_APP_KEY=ak1.v91sddwsy32cykc7k75qsq2un

# ============================================
# GoHighLevel Integration (REQUIRED)
# ============================================
GHL_CLIENT_ID=6935b90c35ba81e169498d6a-mkIloik5
GHL_CLIENT_SECRET=ced7ada4-3355-4ddf-b553-ef58b6196933
GHL_REDIRECT_URI=https://st.lazilabs.com/api/oauth/callback
GHL_LOCATION_ID=kgnEweBlJ8Uq11kNc3Xs
GHL_API_KEY=pit-fc0024a3-c1b1-4179-b8de-dc779b0fb0d9

# GHL Pipeline IDs
GHL_SALES_PIPELINE_ID=fWJfnMsPzwOXgKdWxdjC
GHL_INSTALL_PIPELINE_ID=bbsMqYClVMDN26Lr6HdV

# GHL Custom Field IDs for Opportunities
GHL_CF_ST_CUSTOMER_ID=UmZtVMArKf1LcpAQYXB9
GHL_CF_ST_JOB_ID=jjF7MFNJuSh3FzNVWCz2
GHL_CF_ST_ESTIMATE_ID=mu28MflNiJ4tVuqeMeVE
GHL_CF_ST_STREET_ADDRESS=6ymQxIlXsWNkUMkqbz9C
GHL_CF_ST_CITY=h9fGoisfSSjDJi3hh7Ql
GHL_CF_ST_STATE=7WT8DvJjpRx6pigxjbzf
GHL_CF_ST_POSTAL_CODE=lpkRLhViMmeF7RLRwGMT
GHL_CF_TECHS=sJ3jmGpHGFUssEVZ9Npi
GHL_CF_TECHNICIAN=UtUjwSDe758kTey8ABqk
GHL_CF_ST_ESTIMATES_DATA=xnlxjYOUDoNaNnrqQUEy

# GHL Sync Controls
GHL_SYNC_ENABLED=true
GHL_AUTO_SYNC_ESTIMATES=true
GHL_AUTO_SYNC_JOBS=true
GHL_AUTO_SYNC_CUSTOMERS=true
GHL_DEDUP_ENABLED=true
GHL_RATE_LIMIT=30

# ============================================
# Optional: OpenAI (for AI features)
# ============================================
OPENAI_API_KEY=sk-your-openai-api-key

# ============================================
# Optional: Slack Notifications
# ============================================
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_DISPATCH_CHANNEL=C01234567

# ============================================
# Optional: Redis (for caching/queues)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# Logging
# ============================================
LOG_LEVEL=info

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Sync Scheduler (cron format)
# ============================================
SYNC_FULL_CRON=0 2 * * *
SYNC_INCREMENTAL_CRON=0 */6 * * *
SYNC_SCHEDULER_ENABLED=true
