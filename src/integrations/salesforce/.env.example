# ===========================================
# PerfectCatch Salesforce Integration
# Environment Configuration
# ===========================================

# Application
NODE_ENV=development
PORT=3001

# ===========================================
# Salesforce Connected App Configuration
# 
# To create a Connected App in Salesforce:
# 1. Go to Setup → App Manager → New Connected App
# 2. Enable OAuth Settings
# 3. Set Callback URL to your redirect URI
# 4. Select scopes: "api", "refresh_token", "offline_access"
# 5. Save and note the Consumer Key (Client ID) and Secret
# ===========================================

SALESFORCE_CLIENT_ID=your_connected_app_client_id
SALESFORCE_CLIENT_SECRET=your_connected_app_client_secret
SALESFORCE_REDIRECT_URI=http://localhost:3001/api/salesforce/callback

# Use https://test.salesforce.com for sandbox environments
SALESFORCE_LOGIN_URL=https://login.salesforce.com

# API version (optional, defaults to v59.0)
SALESFORCE_API_VERSION=v59.0

# ===========================================
# Redis Configuration
# Used for: session storage, token storage, job queues
# ===========================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# Session Configuration
# ===========================================

SESSION_SECRET=your-super-secret-session-key-change-in-production

# ===========================================
# Webhook Security
# ===========================================

# Secret for verifying PerfectCatch webhook signatures
PERFECTCATCH_WEBHOOK_SECRET=your-webhook-secret

# ===========================================
# Sync Configuration
# ===========================================

# Number of records per batch (max 200 for Salesforce Composite API)
SYNC_BATCH_SIZE=200

# Number of concurrent sync operations
SYNC_CONCURRENCY=5

# Number of retry attempts for failed syncs
SYNC_RETRY_ATTEMPTS=3

# ===========================================
# Logging
# ===========================================

LOG_LEVEL=info

# ===========================================
# Multi-tenancy (optional)
# ===========================================

TENANT_ID=default

# ===========================================
# CORS (for web clients)
# ===========================================

CORS_ORIGIN=http://localhost:3000
